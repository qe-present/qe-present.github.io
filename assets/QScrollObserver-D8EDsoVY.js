import{r as C,j as ze,R as D,c as X,g as Y,o as E,aj as ce,Y as F,h as M,aF as K,ar as $e,S as pe,au as Le,T as Me,aw as De,i as Pe,e as G,a as u,ay as We,aG as Ae,w as v,N as He,ae as le,b as Ee,l as Fe,aH as Qe,at as Re,aA as Ve,aI as Ie,aJ as Ne}from"./index-T9xzYoSb.js";import{T as J}from"./TouchPan-CNwhdki0.js";import{c as H}from"./QItem-FQU9Ec2d.js";function _e(){const e=C(!ze.value);return e.value===!1&&D(()=>{e.value=!0}),{isHydrated:e}}const de=typeof ResizeObserver<"u",re=de===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Xe=X({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:O}){let n=null,o,l={width:-1,height:-1};function d(s){s===!0||e.debounce===0||e.debounce==="0"?T():n===null&&(n=setTimeout(T,e.debounce))}function T(){if(n!==null&&(clearTimeout(n),n=null),o){const{offsetWidth:s,offsetHeight:f}=o;(s!==l.width||f!==l.height)&&(l={width:s,height:f},O("resize",l))}}const{proxy:k}=Y();if(k.trigger=d,de===!0){let s;const f=a=>{o=k.$el.parentNode,o?(s=new ResizeObserver(d),s.observe(o),T()):a!==!0&&F(()=>{f(!0)})};return D(()=>{f()}),E(()=>{n!==null&&clearTimeout(n),s!==void 0&&(s.disconnect!==void 0?s.disconnect():o&&s.unobserve(o))}),ce}else{let s=function(){n!==null&&(clearTimeout(n),n=null),m!==void 0&&(m.removeEventListener!==void 0&&m.removeEventListener("resize",d,K.passive),m=void 0)},f=function(){s(),o&&o.contentDocument&&(m=o.contentDocument.defaultView,m.addEventListener("resize",d,K.passive),T())};const{isHydrated:a}=_e();let m;return D(()=>{F(()=>{o=k.$el,o&&f()})}),E(s),()=>{if(a.value===!0)return M("object",{class:"q--avoid-card-border",style:re.style,tabindex:-1,type:"text/html",data:re.url,"aria-hidden":"true",onLoad:f})}}}}),ue=150,Ye=X({name:"QDrawer",inheritAttrs:!1,props:{...$e,...pe,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Le,"onLayout","miniState"],setup(e,{slots:O,emit:n,attrs:o}){const l=Y(),{proxy:{$q:d}}=l,T=Me(e,d),{preventBodyScroll:k}=Qe(),{registerTimeout:s,removeTimeout:f}=De(),a=Pe(Fe,G);if(a===G)return console.error("QDrawer needs to be child of QLayout"),G;let m,g=null,h;const c=C(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),$=u(()=>e.mini===!0&&c.value!==!0),y=u(()=>$.value===!0?e.miniWidth:e.width),r=C(e.showIfAbove===!0&&c.value===!1?!0:e.modelValue===!0),Z=u(()=>e.persistent!==!0&&(c.value===!0||me.value===!0));function ee(t,i){if(ve(),t!==!1&&a.animate(),w(0),c.value===!0){const b=a.instances[W.value];b!==void 0&&b.belowBreakpoint===!0&&b.hide(!1),S(1),a.isContainer.value!==!0&&k(!0)}else S(0),t!==!1&&_(!1);s(()=>{t!==!1&&_(!0),i!==!0&&n("show",t)},ue)}function te(t,i){fe(),t!==!1&&a.animate(),S(0),w(B.value*y.value),j(),i!==!0?s(()=>{n("hide",t)},ue):f()}const{show:Q,hide:p}=We({showing:r,hideOnRouteChange:Z,handleShow:ee,handleHide:te}),{addToHistory:ve,removeFromHistory:fe}=Ae(r,p,Z),P={belowBreakpoint:c,hide:p},x=u(()=>e.side==="right"),B=u(()=>(d.lang.rtl===!0?-1:1)*(x.value===!0?1:-1)),ae=C(0),z=C(!1),R=C(!1),ie=C(y.value*B.value),W=u(()=>x.value===!0?"left":"right"),V=u(()=>r.value===!0&&c.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),I=u(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(x.value?"R":"L")!==-1||d.platform.is.ios===!0&&a.isContainer.value===!0),L=u(()=>e.overlay===!1&&r.value===!0&&c.value===!1),me=u(()=>e.overlay===!0&&r.value===!0&&c.value===!1),he=u(()=>"fullscreen q-drawer__backdrop"+(r.value===!1&&z.value===!1?" hidden":"")),be=u(()=>({backgroundColor:`rgba(0,0,0,${ae.value*.4})`})),ne=u(()=>x.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),ge=u(()=>x.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),ye=u(()=>{const t={};return a.header.space===!0&&ne.value===!1&&(I.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&ge.value===!1&&(I.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),we=u(()=>{const t={width:`${y.value}px`,transform:`translateX(${ie.value}px)`};return c.value===!0?t:Object.assign(t,ye.value)}),Te=u(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),ke=u(()=>`q-drawer q-drawer--${e.side}`+(R.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(T.value===!0?" q-drawer--dark q-dark":"")+(z.value===!0?" no-transition":r.value===!0?"":" q-layout--prevent-focus")+(c.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${$.value===!0?"mini":"standard"}`+(I.value===!0||L.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ne.value===!0?" q-drawer--top-padding":""))),xe=u(()=>{const t=d.lang.rtl===!0?e.side:W.value;return[[J,Ce,void 0,{[t]:!0,mouse:!0}]]}),Se=u(()=>{const t=d.lang.rtl===!0?W.value:e.side;return[[J,oe,void 0,{[t]:!0,mouse:!0}]]}),qe=u(()=>{const t=d.lang.rtl===!0?W.value:e.side;return[[J,oe,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function N(){Be(c,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}v(c,t=>{t===!0?(m=r.value,r.value===!0&&p(!1)):e.overlay===!1&&e.behavior!=="mobile"&&m!==!1&&(r.value===!0?(w(0),S(0),j()):Q(!1))}),v(()=>e.side,(t,i)=>{a.instances[i]===P&&(a.instances[i]=void 0,a[i].space=!1,a[i].offset=0),a.instances[t]=P,a[t].size=y.value,a[t].space=L.value,a[t].offset=V.value}),v(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&N()}),v(()=>e.behavior+e.breakpoint,N),v(a.isContainer,t=>{r.value===!0&&k(t!==!0),t===!0&&N()}),v(a.scrollbarWidth,()=>{w(r.value===!0?0:void 0)}),v(V,t=>{q("offset",t)}),v(L,t=>{n("onLayout",t),q("space",t)}),v(x,()=>{w()}),v(y,t=>{w(),U(e.miniToOverlay,t)}),v(()=>e.miniToOverlay,t=>{U(t,y.value)}),v(()=>d.lang.rtl,()=>{w()}),v(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Oe(),a.animate())}),v($,t=>{n("miniState",t)});function w(t){t===void 0?F(()=>{t=r.value===!0?0:y.value,w(B.value*t)}):(a.isContainer.value===!0&&x.value===!0&&(c.value===!0||Math.abs(t)===y.value)&&(t+=B.value*a.scrollbarWidth.value),ie.value=t)}function S(t){ae.value=t}function _(t){const i=t===!0?"remove":a.isContainer.value!==!0?"add":"";i!==""&&document.body.classList[i]("q-body--drawer-toggle")}function Oe(){g!==null&&clearTimeout(g),l.proxy&&l.proxy.$el&&l.proxy.$el.classList.add("q-drawer--mini-animate"),R.value=!0,g=setTimeout(()=>{g=null,R.value=!1,l&&l.proxy&&l.proxy.$el&&l.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ce(t){if(r.value!==!1)return;const i=y.value,b=H(t.distance.x,0,i);if(t.isFinal===!0){b>=Math.min(75,i)===!0?Q():(a.animate(),S(0),w(B.value*i)),z.value=!1;return}w((d.lang.rtl===!0?x.value!==!0:x.value)?Math.max(i-b,0):Math.min(0,b-i)),S(H(b/i,0,1)),t.isFirst===!0&&(z.value=!0)}function oe(t){if(r.value!==!0)return;const i=y.value,b=t.direction===e.side,A=(d.lang.rtl===!0?b!==!0:b)?H(t.distance.x,0,i):0;if(t.isFinal===!0){Math.abs(A)<Math.min(75,i)===!0?(a.animate(),S(1),w(0)):p(),z.value=!1;return}w(B.value*A),S(H(1-A/i,0,1)),t.isFirst===!0&&(z.value=!0)}function j(){k(!1),_(!0)}function q(t,i){a.update(e.side,t,i)}function Be(t,i){t.value!==i&&(t.value=i)}function U(t,i){q("size",t===!0?e.miniWidth:i)}return a.instances[e.side]=P,U(e.miniToOverlay,y.value),q("space",L.value),q("offset",V.value),e.showIfAbove===!0&&e.modelValue!==!0&&r.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),D(()=>{n("onLayout",L.value),n("miniState",$.value),m=e.showIfAbove===!0;const t=()=>{(r.value===!0?ee:te)(!1,!0)};if(a.totalWidth.value!==0){F(t);return}h=v(a.totalWidth,()=>{h(),h=void 0,r.value===!1&&e.showIfAbove===!0&&c.value===!1?Q(!1):t()})}),E(()=>{h!==void 0&&h(),g!==null&&(clearTimeout(g),g=null),r.value===!0&&j(),a.instances[e.side]===P&&(a.instances[e.side]=void 0,q("size",0),q("offset",0),q("space",!1))}),()=>{const t=[];c.value===!0&&(e.noSwipeOpen===!1&&t.push(He(M("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),xe.value)),t.push(le("div",{ref:"backdrop",class:he.value,style:be.value,"aria-hidden":"true",onClick:p},void 0,"backdrop",e.noSwipeBackdrop!==!0&&r.value===!0,()=>qe.value)));const i=$.value===!0&&O.mini!==void 0,b=[M("div",{...o,key:""+i,class:[Te.value,o.class]},i===!0?O.mini():Ee(O.default))];return e.elevated===!0&&r.value===!0&&b.push(M("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(le("aside",{ref:"content",class:ke.value,style:we.value},b,"contentclose",e.noSwipeClose!==!0&&c.value===!0,()=>Se.value)),M("div",{class:"q-drawer-container"},t)}}}),{passive:se}=K,je=["both","horizontal","vertical"],Ze=X({name:"QScrollObserver",props:{axis:{type:String,validator:e=>je.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Re},emits:["scroll"],setup(e,{emit:O}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,l,d;v(()=>e.scrollTarget,()=>{s(),k()});function T(){o!==null&&o();const m=Math.max(0,Ie(l)),g=Ne(l),h={top:m-n.position.top,left:g-n.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const c=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";n.position={top:m,left:g},n.directionChanged=n.direction!==c,n.delta=h,n.directionChanged===!0&&(n.direction=c,n.inflectionPoint=n.position),O("scroll",{...n})}function k(){l=Ve(d,e.scrollTarget),l.addEventListener("scroll",f,se),f(!0)}function s(){l!==void 0&&(l.removeEventListener("scroll",f,se),l=void 0)}function f(m){if(m===!0||e.debounce===0||e.debounce==="0")T();else if(o===null){const[g,h]=e.debounce?[setTimeout(T,e.debounce),clearTimeout]:[requestAnimationFrame(T),cancelAnimationFrame];o=()=>{h(g),o=null}}}const{proxy:a}=Y();return v(()=>a.$q.lang.rtl,T),D(()=>{d=a.$el.parentNode,k()}),E(()=>{o!==null&&o(),s()}),Object.assign(a,{trigger:f,getPosition:()=>n}),ce}});export{Xe as Q,Ze as a,Ye as b};

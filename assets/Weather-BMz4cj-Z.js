import{c as B,g as q}from"./_commonjsHelpers-BosuxZz1.js";import{a as U}from"./axios-B4uVmeYG.js";import{_ as k,r as L,R as b,a as x,s as m,G as g,J as A,z as d,a2 as j,a3 as E,n as S,v as P}from"./index-BA2WbrAd.js";var C={exports:{}};(function(f,M){(function(i,o){f.exports=o()})(B,function(){function i(e){var c=[];return e.AMapUI&&c.push(o(e.AMapUI)),e.Loca&&c.push(l(e.Loca)),Promise.all(c)}function o(e){return new Promise(function(c,t){var s=[];if(e.plugins)for(var r=0;r<e.plugins.length;r+=1)n.AMapUI.plugins.indexOf(e.plugins[r])==-1&&s.push(e.plugins[r]);if(u.AMapUI===a.failed)t("前次请求 AMapUI 失败");else if(u.AMapUI===a.notload){u.AMapUI=a.loading,n.AMapUI.version=e.version||n.AMapUI.version,r=n.AMapUI.version;var w=document.body||document.head,h=document.createElement("script");h.type="text/javascript",h.src="https://webapi.amap.com/ui/"+r+"/main.js",h.onerror=function(p){u.AMapUI=a.failed,t("请求 AMapUI 失败")},h.onload=function(){if(u.AMapUI=a.loaded,s.length)window.AMapUI.loadUI(s,function(){for(var p=0,I=s.length;p<I;p++){var y=s[p].split("/").slice(-1)[0];window.AMapUI[y]=arguments[p]}for(c();_.AMapUI.length;)_.AMapUI.splice(0,1)[0]()});else for(c();_.AMapUI.length;)_.AMapUI.splice(0,1)[0]()},w.appendChild(h)}else u.AMapUI===a.loaded?e.version&&e.version!==n.AMapUI.version?t("不允许多个版本 AMapUI 混用"):s.length?window.AMapUI.loadUI(s,function(){for(var p=0,I=s.length;p<I;p++){var y=s[p].split("/").slice(-1)[0];window.AMapUI[y]=arguments[p]}c()}):c():e.version&&e.version!==n.AMapUI.version?t("不允许多个版本 AMapUI 混用"):_.AMapUI.push(function(p){p?t(p):s.length?window.AMapUI.loadUI(s,function(){for(var I=0,y=s.length;I<y;I++){var O=s[I].split("/").slice(-1)[0];window.AMapUI[O]=arguments[I]}c()}):c()})})}function l(e){return new Promise(function(c,t){if(u.Loca===a.failed)t("前次请求 Loca 失败");else if(u.Loca===a.notload){u.Loca=a.loading,n.Loca.version=e.version||n.Loca.version;var s=n.Loca.version,r=n.AMap.version.startsWith("2"),w=s.startsWith("2");if(r&&!w||!r&&w)t("JSAPI 与 Loca 版本不对应！！");else{r=n.key,w=document.body||document.head;var h=document.createElement("script");h.type="text/javascript",h.src="https://webapi.amap.com/loca?v="+s+"&key="+r,h.onerror=function(p){u.Loca=a.failed,t("请求 AMapUI 失败")},h.onload=function(){for(u.Loca=a.loaded,c();_.Loca.length;)_.Loca.splice(0,1)[0]()},w.appendChild(h)}}else u.Loca===a.loaded?e.version&&e.version!==n.Loca.version?t("不允许多个版本 Loca 混用"):c():e.version&&e.version!==n.Loca.version?t("不允许多个版本 Loca 混用"):_.Loca.push(function(p){p?t(p):t()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(a||(a={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},_={AMap:[],AMapUI:[],Loca:[]},v=[],J=function(e){typeof e=="function"&&(u.AMap===a.loaded?e(window.AMap):v.push(e))};return{load:function(e){return new Promise(function(c,t){if(u.AMap==a.failed)t("");else if(u.AMap==a.notload){var s=e.key,r=e.version,w=e.plugins;s?(window.AMap&&location.host!=="lbs.amap.com"&&t("禁止多种API加载方式混用"),n.key=s,n.AMap.version=r||n.AMap.version,n.AMap.plugins=w||n.AMap.plugins,u.AMap=a.loading,r=document.body||document.head,window.___onAPILoaded=function(p){if(delete window.___onAPILoaded,p)u.AMap=a.failed,t(p);else for(u.AMap=a.loaded,i(e).then(function(){c(window.AMap)}).catch(t);v.length;)v.splice(0,1)[0]()},w=document.createElement("script"),w.type="text/javascript",w.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+s+"&plugin="+n.AMap.plugins.join(","),w.onerror=function(p){u.AMap=a.failed,t(p)},r.appendChild(w)):t("请填写key")}else if(u.AMap==a.loaded)if(e.key&&e.key!==n.key)t("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)t("不允许多个版本 JSAPI 混用");else{if(s=[],e.plugins)for(r=0;r<e.plugins.length;r+=1)n.AMap.plugins.indexOf(e.plugins[r])==-1&&s.push(e.plugins[r]);s.length?window.AMap.plugin(s,function(){i(e).then(function(){c(window.AMap)}).catch(t)}):i(e).then(function(){c(window.AMap)}).catch(t)}else if(e.key&&e.key!==n.key)t("多个不一致的 key");else if(e.version&&e.version!==n.AMap.version)t("不允许多个版本 JSAPI 混用");else{var h=[];if(e.plugins)for(r=0;r<e.plugins.length;r+=1)n.AMap.plugins.indexOf(e.plugins[r])==-1&&h.push(e.plugins[r]);J(function(){h.length?window.AMap.plugin(h,function(){i(e).then(function(){c(window.AMap)}).catch(t)}):i(e).then(function(){c(window.AMap)}).catch(t)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},_={AMap:[],AMapUI:[],Loca:[]}}}})})(C);var D=C.exports;const W=q(D),z={__name:"Weatherpanel",setup(f,{expose:M}){M();const i=L(null);b(async()=>{try{const a=await U.get("https://restapi.amap.com/v3/weather/weatherInfo?city=220100&key=c03cb55bb3404f175ea6b0a20b033d9b");i.value=a.data}catch(a){console.error(a)}});const o=x(()=>{if(!i.value||!i.value.lives[0])return"正在加载天气信息...";const{temperature:a,weather:n,humidity:u,windpower:_}=i.value.lives[0];let v="";switch(a<0?v+="天气较冷，请注意保暖，穿着厚实衣物。":a>=28&&(v+="天气炎热，请做好防暑措施，避免中暑。"),n){case"晴":v+="天气晴朗，适合外出活动，享受阳光！";break;case"多云":v+="天气多云，可能偶有小雨，请带伞以备不时之需。";break;case"雨":case"阵雨":case"雷阵雨":v+="今天有雨，请记得携带雨具，避免外出时淋湿。";break;case"阴":v+="天气阴沉，可能有雨，请注意携带雨具。";break;default:v+="未知天气情况，请查询最新天气预报。"}return u>70&&(v+="空气湿度较大，注意防潮。"),_>5&&(v+="风力较大，请注意安全，避免在户外进行高风险活动。"),v}),l={weatherInfo:i,comprehensiveAdvice:o,computed:x,onMounted:b,ref:L,get axios(){return U}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}},G=f=>(j("data-v-092a3f2e"),f=f(),E(),f),N={class:"weather-panel"},V=G(()=>A("h1",null,"长春市实时天气",-1)),F={key:0},R={key:1};function H(f,M,i,o,l,a){return m(),g("div",N,[V,o.weatherInfo?(m(),g("div",F,[A("p",null,"温度: "+d(o.weatherInfo.lives[0].temperature)+"摄氏度",1),A("p",null,"天气状况: "+d(o.weatherInfo.lives[0].weather),1),A("p",null,"空气湿度: "+d(o.weatherInfo.lives[0].humidity)+"%",1),A("p",null,"风力级别: "+d(o.weatherInfo.lives[0].windpower),1),A("p",null,"发布时间: "+d(o.weatherInfo.lives[0].reporttime),1),A("p",null,"出行建议: "+d(o.comprehensiveAdvice),1)])):(m(),g("div",R," 正在加载天气信息... "))])}const K=k(z,[["render",H],["__scopeId","data-v-092a3f2e"],["__file","Weatherpanel.vue"]]),Q={__name:"Weatherpanel2",setup(f,{expose:M}){M();const i=L(null);b(async()=>{try{const l=await U.get("https://restapi.amap.com/v3/weather/weatherInfo?city=220100&key=c03cb55bb3404f175ea6b0a20b033d9b&extensions=all");i.value=l.data}catch(l){console.error(l)}});const o={weatherInfo:i,computed:x,onMounted:b,ref:L,get axios(){return U}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},T=f=>(j("data-v-37e75ad8"),f=f(),E(),f),X={class:"weather-panel"},Y=T(()=>A("h1",null,"长春市未来三天天气预报",-1)),Z={key:0},$={key:1};function ee(f,M,i,o,l,a){return m(),g("div",X,[Y,o.weatherInfo?(m(),g("div",Z,[A("p",null,d(o.weatherInfo.forecasts[0].casts[1].date)+"    "+d(o.weatherInfo.forecasts[0].casts[1].dayweather)+"     "+d(o.weatherInfo.forecasts[0].casts[1].nighttemp)+"~"+d(o.weatherInfo.forecasts[0].casts[1].daytemp)+"℃ ",1),A("p",null,d(o.weatherInfo.forecasts[0].casts[2].date)+"    "+d(o.weatherInfo.forecasts[0].casts[2].dayweather)+"     "+d(o.weatherInfo.forecasts[0].casts[2].nighttemp)+"~"+d(o.weatherInfo.forecasts[0].casts[2].daytemp)+"℃ ",1),A("p",null,d(o.weatherInfo.forecasts[0].casts[3].date)+"    "+d(o.weatherInfo.forecasts[0].casts[3].dayweather)+"     "+d(o.weatherInfo.forecasts[0].casts[3].nighttemp)+"~"+d(o.weatherInfo.forecasts[0].casts[3].daytemp)+"℃ ",1)])):(m(),g("div",$," 正在加载天气信息... "))])}const ae=k(Q,[["render",ee],["__scopeId","data-v-37e75ad8"],["__file","Weatherpanel2.vue"]]),oe={__name:"Weather",setup(f,{expose:M}){M();let i=null;b(()=>{window._AMapSecurityConfig={securityJsCode:"19ef4645e1509b58e6f6bec793e93111"},W.load({key:"406b44267c1fdf11a851116f2cf642db",version:"2.0",plugins:["AMap.Weather"]}).then(l=>{i=new l.Map("map",{viewMode:"3D",zoom:11,center:[125.323643,43.816996]})}).catch(l=>{console.log(l)})}),S(()=>{i?.destroy()});const o={get map(){return i},set map(l){i=l},onMounted:b,onUnmounted:S,get AMapLoader(){return W},Weatherpanel:K,Weatherpanel2:ae};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},ne={id:"map"};function te(f,M,i,o,l,a){return m(),g("div",ne,[P(o.Weatherpanel,{id:"query2"}),P(o.Weatherpanel2,{id:"query"})])}const ue=k(oe,[["render",te],["__scopeId","data-v-9067eeb2"],["__file","Weather.vue"]]);export{ue as default};
